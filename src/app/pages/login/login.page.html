<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content [formGroup]="form" [fullscreen]="true">

    <div>
      <ion-img src="https://coara.co/assets/logo/coara.svg"></ion-img>
      <ion-header collapse="condense">
        <ion-toolbar>
          <ion-title size="large" >Login</ion-title>
        </ion-toolbar>
      </ion-header>
    <ion-item lines="none" fill="outline">
      <ion-label position="stacked">Username</ion-label>
      <ion-input formControlName="username"></ion-input>
    </ion-item>

    <ion-item lines="none" fill="outline">
      <ion-label position="stacked">Password</ion-label>
      <ion-input type="password" formControlName="password" [type]="showPassword ? 'text' : 'password'"></ion-input>
      <ion-icon class="passwordToggleIcon" [name]="passwordToggleIcon" (click)="togglePassword()" slot="end"></ion-icon>
   </ion-item>

    <ion-button fill="clear" class="loginbtn" (click)="login()">
      <ion-spinner *ngIf="loading$ | async; else text"></ion-spinner>
      <ng-template #text>
        <ion-icon class="loginbtn__icon" name="enter-outline"></ion-icon>
        <ion-text>Login</ion-text>
      </ng-template>
    </ion-button>


    <ion-item lines="none">
      <ion-button
        class="forgot" 
        fill="clear" 
        [routerLink]="['/forgot-password']">I forgot my password
      </ion-button>
    </ion-item>
  </div>
</ion-content>
